{"version":3,"file":"src_app_events_event-location_event-location_module_ts.js","mappings":"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","sources":["./src/app/events/event-location/event-location.page.html","./src/app/events/event-location/event-location-routing.module.ts","./src/app/events/event-location/event-location.module.ts","./src/app/events/event-location/event-location.page.ts"],"sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/events\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>event-location</ion-title>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <!-- <ion-searchbar debounce=\\\"500\\\" (ionChange)=\\\"filterItems($event)\\\">\\n  </ion-searchbar> -->\\n  <!-- <ion-list>\\n    <ion-item *ngFor=\\\"let item of filteredItems\\\">{{item}}</ion-item>\\n  </ion-list> -->\\n\\n  <h4 class=\\\"card-title\\\">\\n    {{ event.address }}\\n  </h4>\\n\\n  <div id=\\\"mapa-mapbox\\\"></div>\\n\\n\\n\\n\\n\\n\\n\\n  <!-- <mgl-map [style]=\\\"'mapbox://styles/mapbox/streets-v11'\\\" [zoom]=\\\"[14]\\\" [center]=\\\"[13, 13]\\\">\\n    <mgl-marker #marker [lngLat]=\\\"[13, 13]\\\"></mgl-marker>\\n    <mgl-popup [marker]=\\\"marker\\\">\\n      You are here\\n    </mgl-popup>\\n  </mgl-map> -->\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EventLocationPage } from './event-location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventLocationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventLocationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EventLocationPageRoutingModule } from './event-location-routing.module';\n\nimport { EventLocationPage } from './event-location.page';\nimport { NgxMapboxGLModule } from 'ngx-mapbox-gl';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EventLocationPageRoutingModule,\n    NgxMapboxGLModule,\n  ],\n  declarations: [EventLocationPage],\n})\nexport class EventLocationPageModule {}\n","import { Component, Inject, OnInit } from '@angular/core';\nimport * as MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\n\nimport * as mapboxgl from 'mapbox-gl/dist/mapbox-gl';\nimport * as Mapboxgl from 'mapbox-gl';\n\nimport { SVEvent } from 'src/app/interfaces/svevent';\nimport { environment } from 'src/environments/environment';\nimport { EventDetailsPage } from '../event-details/event-details.page';\n\n@Component({\n  selector: 'app-event-location',\n  templateUrl: './event-location.page.html',\n  styleUrls: ['./event-location.page.scss'],\n})\nexport class EventLocationPage implements OnInit {\n  filteredItems: string[];\n  mapa: mapboxgl.Map;\n  event: SVEvent;\n  mapMarker: mapboxgl.Marker = new Mapboxgl.Marker();\n\n  constructor(\n    @Inject(EventDetailsPage) private parentComponent: EventDetailsPage\n  ) {}\n\n  ngOnInit() {\n    this.event = {\n      title: '',\n      description: '',\n      image: '',\n      price: 0,\n      lat: 0,\n      lng: 0,\n      address: '',\n      date: '',\n    };\n    this.parentComponent.event$.subscribe((event) => (this.event = event));\n    // this.filteredItems = this.items;\n  }\n\n  ionViewDidEnter() {\n    this.buildMap();\n  }\n\n  buildMap() {\n    (Mapboxgl.accessToken as string) = environment.mapkey;\n    this.mapa = new Mapboxgl.Map({\n      container: 'mapa-mapbox', // container id\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [this.event.lng, this.event.lat], // starting position\n      zoom: 14, // starting zoom\n    });\n\n    // this.mapa.addControl(new mapboxgl.NavigationControl());\n    this.createMarker(\n      'red',\n      new Mapboxgl.LngLat(this.event.lng, this.event.lat)\n    );\n  }\n\n  createMarker(color: string, lngLat: mapboxgl.LngLatLike): void {\n    console.log(this.mapa);\n    const mp = new Mapboxgl.Marker({ color }).setLngLat(lngLat);\n    mp.addTo(this.mapa);\n    console.log(new Mapboxgl.Marker({ color }).setLngLat(lngLat));\n  }\n\n  createMarkerPosition(color: string, lngLat: mapboxgl.LngLatLike): void {\n    if (this.mapMarker != null) {\n      this.mapMarker.remove();\n    }\n    this.mapMarker = new Mapboxgl.Marker({ color })\n      .setLngLat(lngLat)\n      .addTo(this.mapa);\n    console.log(this.mapMarker.getLngLat());\n    // latitude = mapMarker.getLngLat().lat;\n    // longitude = mapMarker.getLngLat().lng;\n  }\n\n  // filterItems(event) {\n  //   let search: string = event.target.value;\n  //   if (search && search.trim() !== '') {\n  //     search = search.trim().toLowerCase();\n  //     this.filteredItems = this.items.filter((i) =>\n  //       i.toLowerCase().includes(search)\n  //     );\n  //   } else {\n  //     this.filteredItems = this.items;\n  //   }\n  // }\n}\n"],"names":[],"sourceRoot":"webpack:///"}