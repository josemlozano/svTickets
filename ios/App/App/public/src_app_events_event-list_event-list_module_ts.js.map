{"version":3,"file":"src_app_events_event-list_event-list_module_ts.js","mappings":"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","sources":["./src/app/events/event-list/event-list.page.html","./src/app/events/event-list/event-list-routing.module.ts","./src/app/events/event-list/event-list.module.ts","./src/app/events/event-list/event-list.page.ts"],"sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Event List</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Event List</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button [translucent]=\\\"true\\\" href=\\\"/events/add\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <ion-list>\\n    <ion-card *ngFor=\\\"let event of events\\\">\\n      <a [routerLink]=\\\"['/events', event.id]\\\">\\n        <ion-img [src]=\\\"event.image\\\"></ion-img>\\n      </a>\\n      <ion-card-header>\\n        <!-- <ion-card-subtitle>{{event.description}}</ion-card-subtitle> -->\\n        <a [routerLink]=\\\"['/events', event.id]\\\">\\n          <ion-card-title>{{event.title}}</ion-card-title>\\n        </a>\\n      </ion-card-header>\\n\\n      <ion-card-content>\\n        <ion-row>{{event.description}}</ion-row>\\n        <ion-row>\\n          <ion-button color=\\\"danger\\\" (click)=\\\"presentAlert(event)\\\" *ngIf=\\\"event.mine\\\">Delete</ion-button>\\n          <ion-col>\\n            <ion-row>\\n              <ion-col>\\n                <div class=\\\"ion-text-end\\\">\\n                  <ion-icon name=\\\"people\\\"></ion-icon>{{event.numAttend}}\\n                </div>\\n              </ion-col>\\n            </ion-row>\\n            <ion-row>\\n              <ion-col>\\n                <div *ngIf=\\\"event.attend\\\" class=\\\"ion-text-end\\\" (click)=\\\"deleteAttend(event)\\\">\\n                  <ion-icon name=\\\"thumbs-up\\\" color=\\\"success\\\"></ion-icon>\\n                  <ion-label color=\\\"success\\\">I'm going</ion-label>\\n                </div>\\n                <div *ngIf=\\\"!event.attend\\\" class=\\\"ion-text-end\\\" (click)=\\\"updateAttend(event)\\\">\\n                  <ion-icon name=\\\"thumbs-down\\\" color=\\\"danger\\\"></ion-icon>\\n                  <ion-label color=\\\"danger\\\">Not going</ion-label>\\n                </div>\\n              </ion-col>\\n            </ion-row>\\n\\n          </ion-col>\\n        </ion-row>\\n        <ion-row class=\\\"ion-align-items-center card-footer\\\">\\n          <!-- <ion-item>\\n            <ion-avatar slot=\\\"start\\\">\\n              <img [src]=\\\"event.creator.avatar\\\" />\\n              <ion-label>Lorem ipsummmmmmm</ion-label>\\n            </ion-avatar>\\n            <ion-label>Lorem ipsum</ion-label>\\n          </ion-item> -->\\n          <ion-col size=\\\"auto\\\">\\n            <ion-avatar>\\n              <img [src]=\\\"event.creator.avatar\\\" />\\n            </ion-avatar>\\n          </ion-col>\\n          <ion-col class=\\\"name\\\">\\n\\n            <a [routerLink]=\\\"['/profile', event.creator.id]\\\">\\n              {{event.creator.name}}\\n            </a>\\n            <p>{{event.date | date: 'dd/MM/y'}}</p>\\n          </ion-col>\\n          <ion-col>\\n            <div class=\\\"ion-text-end\\\">\\n              <p>{{event.price | currency: 'EUR':'symbol'}}</p>\\n              <p>{{event.distance | number}} km</p>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n\\n      </ion-card-content>\\n\\n\\n      <!-- <ion-img [src]=\\\"event.image\\\"></ion-img> -->\\n    </ion-card>\\n  </ion-list>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EventListPage } from './event-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EventListPageRoutingModule } from './event-list-routing.module';\n\nimport { EventListPage } from './event-list.page';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, EventListPageRoutingModule],\n  declarations: [EventListPage],\n})\nexport class EventListPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { SVEvent } from 'src/app/interfaces/svevent';\nimport { EventsServicesService } from '../services/events-services.service';\n\n@Component({\n  selector: 'app-event-list',\n  templateUrl: './event-list.page.html',\n  styleUrls: ['./event-list.page.scss'],\n})\nexport class EventListPage implements OnInit {\n  events: SVEvent[] = [];\n  search = '';\n\n  showImage = false;\n  constructor(\n    private eventsService: EventsServicesService,\n    private router: Router,\n    private alertController: AlertController\n  ) {}\n\n  ngOnInit() {\n    console.log(localStorage.getItem('token'));\n    if (localStorage.getItem('token') == null) {\n      this.router.navigate(['/']);\n    }\n    this.getEvents();\n  }\n\n  doRefresh(event) {\n    console.log('Begin async operation');\n\n    setTimeout(() => {\n      this.getEvents();\n      console.log('Async operation has ended');\n      event.target.complete();\n    }, 2000);\n  }\n\n  getEvents() {\n    this.eventsService.getEvents().subscribe({\n      next: (eventsServ) => (this.events = eventsServ),\n      error: (error) => console.log(error),\n      complete: () => console.log('Events loaded'),\n    });\n  }\n\n  delete(event: SVEvent) {\n    this.eventsService.deleteEvent(event.id).subscribe({\n      next: () => (this.events = this.events.filter((e) => e !== event)),\n      error: (error) => console.error(error),\n    });\n  }\n\n  orderByDate() {\n    this.search = '';\n    this.events.sort((e1, e2) => e1.date.localeCompare(e2.date));\n  }\n\n  orderByPrice() {\n    this.search = '';\n    this.events.sort((e1, e2) => e1.price - e2.price);\n  }\n\n  updateAttend(event: SVEvent) {\n    this.eventsService.updateAttend(event.id).subscribe({\n      next: (response) => {\n        this.ngOnInit();\n      },\n    });\n  }\n\n  deleteAttend(event: SVEvent) {\n    this.eventsService.deleteAttend(event.id).subscribe({\n      next: (response) => {\n        this.ngOnInit();\n      },\n    });\n  }\n\n  async presentAlert(event: SVEvent) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Error',\n      message: 'Do you want to delete the event?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          id: 'cancel-button',\n          handler: (blah) => {\n            console.log('');\n          },\n        },\n        {\n          text: 'Okay',\n          id: 'confirm-button',\n          handler: () => {\n            this.delete(event);\n          },\n        },\n      ],\n    });\n\n    await alert.present();\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}