{"version":3,"file":"src_app_events_event-info_event-info_module_ts.js","mappings":"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","sources":["./src/app/events/event-info/event-info.page.html","./src/app/events/event-info/event-info-routing.module.ts","./src/app/events/event-info/event-info.module.ts","./src/app/events/event-info/event-info.page.ts"],"sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/events\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>event-info</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-card>\\n    <!-- <a [routerLink]=\\\"['/events', event.id]\\\"> -->\\n    <img [src]=\\\"event.image\\\" />\\n    <!-- <ion-img [src]=\\\"event.image\\\"></ion-img> -->\\n    <!-- </a> -->\\n    <ion-card-header>\\n      <!-- <ion-card-subtitle>{{event.description}}</ion-card-subtitle> -->\\n      <!-- <a [routerLink]=\\\"['/events', event.id]\\\"> -->\\n      <ion-card-title>{{event.title}}</ion-card-title>\\n      <!-- </a> -->\\n    </ion-card-header>\\n\\n    <ion-card-content>\\n      <ion-row>{{event.description}}</ion-row>\\n      <ion-row>\\n        <ion-button color=\\\"danger\\\" (click)=\\\"presentAlert(event)\\\" *ngIf=\\\"event.mine\\\">Delete</ion-button>\\n        <ion-col>\\n          <ion-row>\\n            <ion-col>\\n              <div class=\\\"ion-text-end\\\">\\n                <ion-icon name=\\\"people\\\"></ion-icon>{{event.numAttend}}\\n              </div>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col>\\n              <div *ngIf=\\\"event.attend\\\" class=\\\"ion-text-end\\\" (click)=\\\"deleteAttend(event)\\\">\\n                <ion-icon name=\\\"thumbs-up\\\" color=\\\"success\\\"></ion-icon>\\n                <ion-label color=\\\"success\\\">I'm going</ion-label>\\n              </div>\\n              <div *ngIf=\\\"!event.attend\\\" class=\\\"ion-text-end\\\" (click)=\\\"updateAttend(event)\\\">\\n                <ion-icon name=\\\"thumbs-down\\\" color=\\\"danger\\\"></ion-icon>\\n                <ion-label color=\\\"danger\\\">Not going</ion-label>\\n              </div>\\n            </ion-col>\\n          </ion-row>\\n\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"ion-align-items-center card-footer\\\">\\n        <!-- <ion-item>\\n          <ion-avatar slot=\\\"start\\\">\\n            <img [src]=\\\"event.creator.avatar\\\" />\\n            <ion-label>Lorem ipsummmmmmm</ion-label>\\n          </ion-avatar>\\n          <ion-label>Lorem ipsum</ion-label>\\n        </ion-item> -->\\n        <ion-col size=\\\"auto\\\">\\n          <ion-avatar>\\n            <img [src]=\\\"event.creator.avatar\\\" />\\n          </ion-avatar>\\n        </ion-col>\\n        <ion-col class=\\\"name\\\">\\n\\n          <a [routerLink]=\\\"['/profile', event.creator.id]\\\">\\n            {{event.creator.name}}\\n          </a>\\n          <p>{{event.date | date: 'dd/MM/y'}}</p>\\n        </ion-col>\\n        <ion-col>\\n          <div class=\\\"ion-text-end\\\">\\n            <p>{{event.price | currency: 'EUR':'symbol'}}</p>\\n            <p>{{event.distance | number}} km</p>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n\\n    </ion-card-content>\\n\\n\\n    <!-- <ion-img [src]=\\\"event.image\\\"></ion-img> -->\\n  </ion-card>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EventInfoPage } from './event-info.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventInfoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventInfoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EventInfoPageRoutingModule } from './event-info-routing.module';\n\nimport { EventInfoPage } from './event-info.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EventInfoPageRoutingModule\n  ],\n  declarations: [EventInfoPage]\n})\nexport class EventInfoPageModule {}\n","import { Component, Inject, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { SVEvent } from 'src/app/interfaces/svevent';\nimport { EventDetailsPage } from '../event-details/event-details.page';\nimport { EventsServicesService } from '../services/events-services.service';\nimport { Router } from '@angular/router';\nimport { User } from 'src/app/interfaces/svuser';\n\n@Component({\n  selector: 'app-event-info',\n  templateUrl: './event-info.page.html',\n  styleUrls: ['./event-info.page.scss'],\n})\nexport class EventInfoPage implements OnInit {\n  event: SVEvent;\n  user: User;\n\n  constructor(\n    @Inject(EventDetailsPage) private parentComponent: EventDetailsPage,\n    private eventsService: EventsServicesService,\n    private alertController: AlertController,\n    private router: Router\n  ) {}\n\n  ngOnInit() {\n    this.user = {\n      avatar: '',\n      name: '',\n      email: '',\n      lat: 0,\n      lng: 0,\n    };\n\n    this.event = {\n      title: '',\n      description: '',\n      image: '',\n      price: 0,\n      lat: 0,\n      lng: 0,\n      address: '',\n      date: '',\n      creator: this.user,\n    };\n    this.parentComponent.event$.subscribe((event) => (this.event = event));\n  }\n\n  delete(event: SVEvent) {\n    this.eventsService.deleteEvent(event.id).subscribe({\n      next: () => this.router.navigate(['/events']),\n      error: (error) => console.error(error),\n    });\n  }\n\n  updateAttend(event: SVEvent) {\n    this.eventsService.updateAttend(event.id).subscribe({\n      next: () => {\n        this.ngOnInit();\n      },\n    });\n  }\n\n  deleteAttend(event: SVEvent) {\n    this.eventsService.deleteAttend(event.id).subscribe({\n      next: () => {\n        this.ngOnInit();\n      },\n    });\n  }\n\n  async presentAlert(event: SVEvent) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Error',\n      message: 'Do you want to delete the event?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          id: 'cancel-button',\n          handler: () => {\n            console.log('');\n          },\n        },\n        {\n          text: 'Okay',\n          id: 'confirm-button',\n          handler: () => {\n            this.delete(event);\n          },\n        },\n      ],\n    });\n\n    await alert.present();\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}